<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Expence Tracker</title>
  </head>
  <body>
    <section>
    <div class="mask d-flex align-items-center h-100 gradient-custom-3">
      <div class="container h-100">       
        <form action="#" onsubmit="registerUser(event)"  id= "register" method="get">
        <h2>-------Expence Tracker-------</h2><br>

        <div class="row g-3 align-items-center">
          <div class="col-auto">
            <label for="add_amt" class="col-form-label">Choose Expence Amount :</label>
          </div> 
          <div class="col-auto">
            <input type="number" id="amt" class="form-control" required>
          </div>
        </div><br>

        <div class="row g-3 align-items-center">
          <div class="col-auto">
            <label for="add_dis" class="col-form-label">Choose Discription :</label>
          </div>

          <div class="col-auto">
            <input type="text" id="dis" class="form-control" required>
          </div>
        </div><br>

        <div class="row g-3 align-items-center">
          <div class="col-auto">
            <label for="category" class="col-form-label">Choose A Category :</label>
          </div>

          <div class="col-auto">
            <select class="form-control" id="category" required>
                <option selected>----Select from here----</option>
                <option value="Fuel">Fuel</option>
                <option value="Food">Food</option>
                <option value="Movie">Movie</option>
                <option value="Electricity">Electricity</option>
                <option value="Groceries">Groceries</option>
                <option value="Health care">Health care</option>
                <option value="Shopping">Shopping</option>
                <option value="Other">Other</option>
            </select>
          </div>   
        </div><br>
      <button type="submit" class="btn btn-success ">Add Expence</button>
      <hr>
    </form>
  </div>
</div>
</section>
<ul id='list'></ul>
<style>
  *{
     margin:10;
     padding: 3px;;
    }
    h2{
      font-family:bodoni'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      color: #0c0c0c;    
    }
    
    @media(max-width:768px) {
      .bg-img{
      min-height: 30 vh;
      }
    }
</style>
<script>
    function registerUser(e){
    e.preventDefault();
    alert("form is submitted");

    var amount = document.getElementById('amt').value;
    var discription = document.getElementById('dis').value;
    var category = document.getElementById('category').value;

    var form={
        amount:amount,discription:discription ,category: category
    };
    localStorage.setItem(form.discription,JSON.stringify(form));
    DispUser(form);
  }
  function DispUser(form){
      //console.log(form);
        var pElement = document.getElementById('list');
        var cElement = document.createElement('li');
        cElement.textContent=form.amount+"  "+form.discription+"  "+form.category+"  ";

        var del = document.createElement('input');
        del.type='button';
        del.value='Delete';

        var edit = document.createElement('input');
        edit.type='button';
        edit.value='Edit';

        del.onclick = ()=>{
            localStorage.removeItem(form.discription);
            pElement.removeChild(cElement);
        }
        edit.onclick = ()=>{
            localStorage.removeItem(form.discription);
            pElement.removeChild(cElement);
            document.getElementById('amt').value= form.amount;
            document.getElementById('dis').value=form.discription;
            document.getElementById('category').value=form.category;
        }
        cElement.appendChild(del);
        cElement.appendChild(edit);

        pElement.appendChild(cElement);
        }    
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    </body>
</html>